---
// Wait for the DOM to load
document.addEventListener('DOMContentLoaded', function () {
	const sidebarLinks = document.querySelectorAll('.blog-link');

	sidebarLinks.forEach((link) => {
		link.addEventListener('click', async (event) => {
			event.preventDefault();

			// Get the slug from the clicked link
			const slug = event.target.getAttribute('data-slug');

			// Fetch the post content based on the slug
			const response = await fetch(`/api/getPost?slug=${slug}`);
			const data = await response.json();

			// Replace the content area with the fetched content
			const contentArea = document.getElementById('contentArea');
			contentArea.innerHTML = data.content;
		});
	});
});
---

<div id='contentArea'>
	<!-- The content of the selected blog post will be loaded here -->
</div>
